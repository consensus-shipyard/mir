// Code generated by Mir codegen. DO NOT EDIT.

package threshcryptopbdsl

import (
	dsl "github.com/filecoin-project/mir/pkg/dsl"
	events "github.com/filecoin-project/mir/pkg/pb/threshcryptopb/events"
	types "github.com/filecoin-project/mir/pkg/pb/threshcryptopb/types"
	stdtypes "github.com/filecoin-project/mir/stdtypes"
)

// Module-specific dsl functions for emitting events.

func SignShare[C any](m dsl.Module, destModule stdtypes.ModuleID, data [][]uint8, context *C) {
	contextID := m.DslHandle().StoreContext(context)

	origin := &types.SignShareOrigin{
		Module: m.ModuleID(),
		Type:   &types.SignShareOrigin_Dsl{Dsl: dsl.MirOrigin(contextID)},
	}

	dsl.EmitMirEvent(m, events.SignShare(destModule, data, origin))
}

func SignShareResult(m dsl.Module, destModule stdtypes.ModuleID, signatureShare []uint8, origin *types.SignShareOrigin) {
	dsl.EmitMirEvent(m, events.SignShareResult(destModule, signatureShare, origin))
}

func VerifyShare[C any](m dsl.Module, destModule stdtypes.ModuleID, data [][]uint8, signatureShare []uint8, nodeId stdtypes.NodeID, context *C) {
	contextID := m.DslHandle().StoreContext(context)

	origin := &types.VerifyShareOrigin{
		Module: m.ModuleID(),
		Type:   &types.VerifyShareOrigin_Dsl{Dsl: dsl.MirOrigin(contextID)},
	}

	dsl.EmitMirEvent(m, events.VerifyShare(destModule, data, signatureShare, nodeId, origin))
}

func VerifyShareResult(m dsl.Module, destModule stdtypes.ModuleID, ok bool, error string, origin *types.VerifyShareOrigin) {
	dsl.EmitMirEvent(m, events.VerifyShareResult(destModule, ok, error, origin))
}

func VerifyFull[C any](m dsl.Module, destModule stdtypes.ModuleID, data [][]uint8, fullSignature []uint8, context *C) {
	contextID := m.DslHandle().StoreContext(context)

	origin := &types.VerifyFullOrigin{
		Module: m.ModuleID(),
		Type:   &types.VerifyFullOrigin_Dsl{Dsl: dsl.MirOrigin(contextID)},
	}

	dsl.EmitMirEvent(m, events.VerifyFull(destModule, data, fullSignature, origin))
}

func VerifyFullResult(m dsl.Module, destModule stdtypes.ModuleID, ok bool, error string, origin *types.VerifyFullOrigin) {
	dsl.EmitMirEvent(m, events.VerifyFullResult(destModule, ok, error, origin))
}

func Recover[C any](m dsl.Module, destModule stdtypes.ModuleID, data [][]uint8, signatureShares [][]uint8, context *C) {
	contextID := m.DslHandle().StoreContext(context)

	origin := &types.RecoverOrigin{
		Module: m.ModuleID(),
		Type:   &types.RecoverOrigin_Dsl{Dsl: dsl.MirOrigin(contextID)},
	}

	dsl.EmitMirEvent(m, events.Recover(destModule, data, signatureShares, origin))
}

func RecoverResult(m dsl.Module, destModule stdtypes.ModuleID, fullSignature []uint8, ok bool, error string, origin *types.RecoverOrigin) {
	dsl.EmitMirEvent(m, events.RecoverResult(destModule, fullSignature, ok, error, origin))
}
